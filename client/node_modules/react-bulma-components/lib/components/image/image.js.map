{"version":3,"sources":["../../../src/components/image/image.js"],"names":["React","useEffect","useState","PropTypes","classnames","Element","Image","className","alt","size","fallback","rounded","src","fullwidth","props","state","setState","s","propTypes","string","bool","oneOf","renderAs","oneOfType","func","object","defaultProps","undefined"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Image = ({\n  className,\n  alt,\n  size,\n  fallback,\n  rounded,\n  src,\n  fullwidth,\n  ...props\n}) => {\n  const [state, setState] = useState({ src });\n  useEffect(() => {\n    setState({ src });\n  }, [src]);\n  let s = size;\n\n  if (typeof size === 'number') {\n    s = `${s}x${s}`;\n  }\n  return (\n    <Element\n      {...props}\n      className={classnames('image', className, {\n        [`is-${s}`]: s,\n        'is-fullwidth': fullwidth,\n      })}\n    >\n      <img\n        className={classnames({\n          'is-rounded': rounded,\n        })}\n        onError={() => setState({ src: fallback })}\n        src={state.src}\n        alt={alt}\n      />\n    </Element>\n  );\n};\n\nImage.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  rounded: PropTypes.bool,\n  size: PropTypes.oneOf([\n    16,\n    24,\n    32,\n    48,\n    64,\n    96,\n    128,\n    'square',\n    '1by1',\n    '4by3',\n    '3by2',\n    '16by9',\n    '2by1',\n    '5by4',\n    '5by3',\n    '3by1',\n    '4by5',\n    '3by4',\n    '2by3',\n    '3by5',\n    '9by16',\n    '1by2',\n    '1by3',\n  ]),\n  fallback: PropTypes.string,\n  fullwidth: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nImage.defaultProps = {\n  src: '',\n  alt: '',\n  rounded: false,\n  size: undefined,\n  fallback: 'https://bulma.io/images/placeholders/480x480.png',\n  fullwidth: false,\n  renderAs: 'figure',\n};\n\nexport default Image;\n"],"file":"image.js"}