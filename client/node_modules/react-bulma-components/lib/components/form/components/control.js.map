{"version":3,"sources":["../../../../src/components/form/components/control.js"],"names":["React","PropTypes","classnames","Element","Icon","useFieldContext","Button","isIcon","child","type","props","align","Control","children","className","fullwidth","loading","context","updatedChildren","Children","map","cloneElement","size","icons","toArray","filter","reduce","acc","icon","iconLeft","iconRight","propTypes","bool","defaultProps"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AAEA,OAAOC,OAAP,MAAoB,eAApB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,eAAP,MAA4B,iBAA5B;AACA,OAAOC,MAAP,MAAmB,cAAnB;;AAEA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAACC,KAAD,EAAW;AACxB,SACEA,KAAK,CAACC,IAAN,KAAeL,IAAf,KACCI,KAAK,CAACE,KAAN,CAAYC,KAAZ,KAAsB,MAAtB,IAAgCH,KAAK,CAACE,KAAN,CAAYC,KAAZ,KAAsB,OADvD,CADF;AAID,CALD;;AAOA,IAAMC,OAAO,GAAG,SAAVA,OAAU,OAA2D;AAAA,MAAxDC,QAAwD,QAAxDA,QAAwD;AAAA,MAA9CC,SAA8C,QAA9CA,SAA8C;AAAA,MAAnCC,SAAmC,QAAnCA,SAAmC;AAAA,MAAxBC,OAAwB,QAAxBA,OAAwB;AAAA,MAAZN,KAAY;;AACzE,MAAMO,OAAO,GAAGZ,eAAe,EAA/B;AAEA,MAAMa,eAAe,GAAGlB,KAAK,CAACmB,QAAN,CAAeC,GAAf,CAAmBP,QAAnB,EAA6B,UAACL,KAAD,EAAW;AAC9D,QAAI,CAACD,MAAM,CAACC,KAAD,CAAP,IAAkBA,KAAK,CAACC,IAAN,KAAeH,MAArC,EAA6C;AAC3C,aAAOE,KAAP;AACD;;AACD,wBAAOR,KAAK,CAACqB,YAAN,CAAmBb,KAAnB,EAA0B;AAC/Bc,MAAAA,IAAI,EAAEd,KAAK,CAACE,KAAN,CAAYY,IAAZ,IAAoBL,OAAO,CAACK;AADH,KAA1B,CAAP;AAGD,GAPuB,CAAxB;AASA,MAAMC,KAAK,GAAGvB,KAAK,CAACmB,QAAN,CAAeK,OAAf,CAAuBN,eAAvB,EACXO,MADW,CACJlB,MADI,EAEXmB,MAFW,CAGV,UAACC,GAAD,EAAMC,IAAN;AAAA,WAAgB;AACdC,MAAAA,QAAQ,EAAEF,GAAG,CAACE,QAAJ,IAAgBD,IAAI,CAAClB,KAAL,CAAWC,KAAX,KAAqB,MADjC;AAEdmB,MAAAA,SAAS,EAAEH,GAAG,CAACG,SAAJ,IAAiBF,IAAI,CAAClB,KAAL,CAAWC,KAAX,KAAqB;AAFnC,KAAhB;AAAA,GAHU,EAOV;AAAEkB,IAAAA,QAAQ,EAAE,KAAZ;AAAmBC,IAAAA,SAAS,EAAE;AAA9B,GAPU,CAAd;AASA,sBACE,oBAAC,OAAD,eACMpB,KADN;AAEE,IAAA,SAAS,EAAER,UAAU,CAAC,SAAD,EAAYY,SAAZ,EAAuB;AAC1C,qBAAeC,SAD2B;AAE1C,wBAAkBQ,KAAK,CAACM,QAFkB;AAG1C,yBAAmBN,KAAK,CAACO,SAHiB;AAI1C,oBAAcd;AAJ4B,KAAvB;AAFvB,MASGE,eATH,CADF;AAaD,CAlCD;;AAoCAN,OAAO,CAACmB,SAAR,GAAoB;AAClBf,EAAAA,OAAO,EAAEf,SAAS,CAAC+B,IADD;;AAElB;;;;AAIAjB,EAAAA,SAAS,EAAEd,SAAS,CAAC+B;AANH,CAApB;AASApB,OAAO,CAACqB,YAAR,GAAuB,EAAvB;AAEA,eAAerB,OAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../../element';\nimport Icon from '../../icon';\nimport useFieldContext from './field/context';\nimport Button from '../../button';\n\nconst isIcon = (child) => {\n  return (\n    child.type === Icon &&\n    (child.props.align === 'left' || child.props.align === 'right')\n  );\n};\n\nconst Control = ({ children, className, fullwidth, loading, ...props }) => {\n  const context = useFieldContext();\n\n  const updatedChildren = React.Children.map(children, (child) => {\n    if (!isIcon(child) && child.type !== Button) {\n      return child;\n    }\n    return React.cloneElement(child, {\n      size: child.props.size || context.size,\n    });\n  });\n\n  const icons = React.Children.toArray(updatedChildren)\n    .filter(isIcon)\n    .reduce(\n      (acc, icon) => ({\n        iconLeft: acc.iconLeft || icon.props.align === 'left',\n        iconRight: acc.iconRight || icon.props.align === 'right',\n      }),\n      { iconLeft: false, iconRight: false },\n    );\n  return (\n    <Element\n      {...props}\n      className={classnames('control', className, {\n        'is-expanded': fullwidth,\n        'has-icons-left': icons.iconLeft,\n        'has-icons-right': icons.iconRight,\n        'is-loading': loading,\n      })}\n    >\n      {updatedChildren}\n    </Element>\n  );\n};\n\nControl.propTypes = {\n  loading: PropTypes.bool,\n  /**\n   * When true and the `Field` container has the `kind` props set the Control\n   * will use all available space instead of adjusting to the element inside\n   */\n  fullwidth: PropTypes.bool,\n};\n\nControl.defaultProps = {};\n\nexport default Control;\n"],"file":"control.js"}