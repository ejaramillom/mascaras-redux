{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nimport React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport Element from '../element';\n\nvar Image = function Image(_ref) {\n  var _classnames;\n\n  var className = _ref.className,\n      alt = _ref.alt,\n      size = _ref.size,\n      fallback = _ref.fallback,\n      rounded = _ref.rounded,\n      src = _ref.src,\n      fullwidth = _ref.fullwidth,\n      props = _objectWithoutProperties(_ref, [\"className\", \"alt\", \"size\", \"fallback\", \"rounded\", \"src\", \"fullwidth\"]);\n\n  var _useState = useState({\n    src: src\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      state = _useState2[0],\n      setState = _useState2[1];\n\n  useEffect(function () {\n    setState({\n      src: src\n    });\n  }, [src]);\n  var s = size;\n\n  if (typeof size === 'number') {\n    s = \"\".concat(s, \"x\").concat(s);\n  }\n\n  return /*#__PURE__*/React.createElement(Element, _extends({}, props, {\n    className: classnames('image', className, (_classnames = {}, _defineProperty(_classnames, \"is-\".concat(s), s), _defineProperty(_classnames, 'is-fullwidth', fullwidth), _classnames))\n  }), /*#__PURE__*/React.createElement(\"img\", {\n    className: classnames({\n      'is-rounded': rounded\n    }),\n    onError: function onError() {\n      return setState({\n        src: fallback\n      });\n    },\n    src: state.src,\n    alt: alt\n  }));\n};\n\nImage.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  rounded: PropTypes.bool,\n  size: PropTypes.oneOf([16, 24, 32, 48, 64, 96, 128, 'square', '1by1', '4by3', '3by2', '16by9', '2by1', '5by4', '5by3', '3by1', '4by5', '3by4', '2by3', '3by5', '9by16', '1by2', '1by3']),\n  fallback: PropTypes.string,\n  fullwidth: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nImage.defaultProps = {\n  src: '',\n  alt: '',\n  rounded: false,\n  size: undefined,\n  fallback: 'https://bulma.io/images/placeholders/480x480.png',\n  fullwidth: false,\n  renderAs: 'figure'\n};\nexport default Image;","map":{"version":3,"sources":["../../../src/components/image/image.js"],"names":["Image","className","alt","size","fallback","rounded","src","fullwidth","props","state","setState","useState","useEffect","s","classnames","PropTypes","renderAs"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport Element from '../element';\n\nconst Image = ({\n  className,\n  alt,\n  size,\n  fallback,\n  rounded,\n  src,\n  fullwidth,\n  ...props\n}) => {\n  const [state, setState] = useState({ src });\n  useEffect(() => {\n    setState({ src });\n  }, [src]);\n  let s = size;\n\n  if (typeof size === 'number') {\n    s = `${s}x${s}`;\n  }\n  return (\n    <Element\n      {...props}\n      className={classnames('image', className, {\n        [`is-${s}`]: s,\n        'is-fullwidth': fullwidth,\n      })}\n    >\n      <img\n        className={classnames({\n          'is-rounded': rounded,\n        })}\n        onError={() => setState({ src: fallback })}\n        src={state.src}\n        alt={alt}\n      />\n    </Element>\n  );\n};\n\nImage.propTypes = {\n  src: PropTypes.string,\n  alt: PropTypes.string,\n  rounded: PropTypes.bool,\n  size: PropTypes.oneOf([\n    16,\n    24,\n    32,\n    48,\n    64,\n    96,\n    128,\n    'square',\n    '1by1',\n    '4by3',\n    '3by2',\n    '16by9',\n    '2by1',\n    '5by4',\n    '5by3',\n    '3by1',\n    '4by5',\n    '3by4',\n    '2by3',\n    '3by5',\n    '9by16',\n    '1by2',\n    '1by3',\n  ]),\n  fallback: PropTypes.string,\n  fullwidth: PropTypes.bool,\n  renderAs: PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.string,\n    PropTypes.object,\n  ]),\n};\n\nImage.defaultProps = {\n  src: '',\n  alt: '',\n  rounded: false,\n  size: undefined,\n  fallback: 'https://bulma.io/images/placeholders/480x480.png',\n  fullwidth: false,\n  renderAs: 'figure',\n};\n\nexport default Image;\n"]},"metadata":{},"sourceType":"module"}