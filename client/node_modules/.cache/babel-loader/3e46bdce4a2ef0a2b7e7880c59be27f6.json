{"ast":null,"code":"var _jsxFileName = \"/home/leon/Documentos/proyectos/mascara/client/src/components/PartFilter.component.js\";\nimport React, { useState } from 'react';\nimport Button from 'react-bulma-components/lib/components/button';\nimport Tile from 'react-bulma-components/lib/components/tile';\nimport Heading from 'react-bulma-components/lib/components/heading';\nimport Image from 'react-bulma-components/lib/components/image';\nimport Tag from 'react-bulma-components/lib/components/tag';\nimport ExportCSV from './ExportCSV.component';\nimport { BottleDisplay, BrushDisplay, RodDisplay, WiperDisplay } from './Display.component';\nimport { FilterButton } from './FilterButton.component';\nimport axios from \"axios\";\nimport '../App.css'; //---------------- Bottle filter\n\nexport const BottleFilter = props => {\n  const bottle = props.bottle;\n  const bottles = props.bottles;\n  const rod = props.rod;\n  const brush = props.brush;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([bottles]);\n\n  const addBottle = async data => {\n    await axios.post(\"/bottle\", {\n      name: data.name,\n      drawing: data.drawing,\n      mold: data.mold,\n      depth: data.depth,\n      thread: data.thread\n    }).then(function (response) {\n      if (response.status === 200) {\n        alert(\"Bottle added to the list!\");\n        console.log(\"Succesfully added\");\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    }).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  const addBottleClick = element => {\n    addBottle(element);\n    setBuildClick(!buildClick);\n  };\n\n  const onChange = e => {\n    setSearch(e);\n    let oldList = bottles;\n\n    if (search !== \"\") {\n      let newList = [];\n      newList = oldList.filter(element => {\n        return element.name.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList);\n    } else {\n      setFilterDisplay(oldList);\n    }\n  };\n\n  if (bottle && bottle.name) {\n    const filteredBottles = bottles.filter(element => {\n      return element.name.toLowerCase().indexOf(bottle.name.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(BottleDisplay, {\n      bottlesToDisplay: filteredBottles,\n      addBottleClick: addBottleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    });\n  } else if (rod && rod.thread && brush && brush.brushLength) {\n    const filteredBottles = bottles.filter(element => {\n      let gap = Number(element.depth) - (Number(rod.dimensions.length) + Number(brush.brushLength));\n\n      if (gap > 2 && gap < 6 && element.thread.toLowerCase().indexOf(rod.thread.toLowerCase()) !== -1) {\n        return element;\n      } else {\n        return \"\";\n      }\n    });\n    return /*#__PURE__*/React.createElement(BottleDisplay, {\n      bottlesToDisplay: filteredBottles,\n      addBottleClick: addBottleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 7\n      }\n    });\n  } else if (rod && rod.thread) {\n    const filteredBottles = bottles.filter(element => {\n      return element.thread.toLowerCase().indexOf(rod.thread.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(BottleDisplay, {\n      bottlesToDisplay: filteredBottles,\n      addBottleClick: addBottleClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 7\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    value: search,\n    onChange: e => onChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(BottleDisplay, {\n    bottlesToDisplay: search.length < 1 ? bottles : filterDisplay,\n    addBottleClick: addBottleClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }));\n}; //---------------- Bottle filter\n//---------------- Brush filter\n\nexport const BrushFilter = props => {\n  const brush = props.brush;\n  const brushes = props.brushes;\n  const claim = props.claim;\n  const rod = props.rod;\n  const bottle = props.bottle;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([brushes]);\n\n  const addBrush = async data => {\n    await axios.post(\"/brush\", {\n      brush: data.brush,\n      original: data.original,\n      shaftLength: data.shaftLength,\n      shaftDiameter: data.shaftDiameter,\n      brushLength: data.brushLength,\n      brushDiameter: data.brushDiameter,\n      type: data.type\n    }).then(function (response) {\n      if (response.status === 200) {\n        alert(\"Brush added to the list!\");\n        console.log(\"Succesfully added\");\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    }).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  const onChange = e => {\n    setSearch(e);\n    let oldList = brushes;\n\n    if (search !== \"\") {\n      let newList = [];\n      newList = oldList.filter(element => {\n        return element.brush.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList);\n    } else {\n      setFilterDisplay(brushes);\n    }\n  };\n\n  const addBrushClick = element => {\n    addBrush(element);\n    setBuildClick(!buildClick);\n  };\n\n  if (brush && brush.brush) {\n    const filteredBrushes = brushes.filter(element => {\n      return element.brush.toLowerCase().indexOf(brush.brush.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(BrushDisplay, {\n      brushesToDisplay: filteredBrushes,\n      addBrushClick: addBrushClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 7\n      }\n    });\n  } else if (claim) {\n    const filteredBrushes = brushes.filter(element => {\n      if (claim === \"definition\" && element.claim.definition === true) {\n        return element;\n      } else if (claim === \"volumizing\" && element.claim.volumizing === true) {\n        return element;\n      } else if (claim === \"lengthening\" && element.claim.lengthening === true) {\n        return element;\n      } else if (claim === \"curling\" && element.claim.curling === true) {\n        return element;\n      } else if (claim === \"plumping\" && element.claim.plumping === true) {\n        return element;\n      } else {\n        return \"\";\n      }\n    });\n    return /*#__PURE__*/React.createElement(BrushDisplay, {\n      brushesToDisplay: filteredBrushes,\n      addBrushClick: addBrushClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 7\n      }\n    });\n  } else if (rod && rod.name && bottle && bottle.name) {\n    const filteredBrushes = brushes.filter(element => {\n      let mascaraGap = Number(bottle.depth) - (Number(element.brushLength) + Number(rod.dimensions.length));\n\n      if (mascaraGap > 1 && mascaraGap < 6) {\n        return element;\n      } else {\n        return null;\n      }\n    });\n    return /*#__PURE__*/React.createElement(BrushDisplay, {\n      brushesToDisplay: filteredBrushes,\n      addBrushClick: addBrushClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 7\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    value: search,\n    onChange: e => onChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(BrushDisplay, {\n    brushesToDisplay: search.length < 1 ? brushes : filterDisplay,\n    addBrushClick: addBrushClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }\n  }));\n}; //---------------- Brush filter\n//---------------- Rod filter\n\nexport const RodFilter = props => {\n  const rod = props.rod;\n  const rods = props.rods;\n  const bottle = props.bottle;\n  const brush = props.brush;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([rods]);\n\n  const addRod = async data => {\n    await axios.post(\"/rod\", {\n      name: data.name,\n      drawing: data.drawing,\n      thread: data.thread,\n      dimensions: {\n        length: data.dimensions.length,\n        rodDiameter: data.dimensions.rodDiameter,\n        brushDiameter: data.dimensions.brushDiameter\n      }\n    }).then(function (response) {\n      if (response.status === 200) {\n        alert(\"Rod added to the list!\");\n        console.log(\"Succesfully added\");\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    }).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  const addRodClick = element => {\n    addRod(element);\n    setBuildClick(!buildClick);\n  };\n\n  const onChange = e => {\n    setSearch(e);\n    let oldList = rods;\n\n    if (search !== \"\") {\n      let newList = [];\n      newList = oldList.filter(element => {\n        return element.name.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList);\n    } else {\n      setFilterDisplay(oldList);\n    }\n  };\n\n  if (rod && rod.name) {\n    const filteredRods = rods.filter(element => {\n      return element.name.toLowerCase().indexOf(rod.name.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(RodDisplay, {\n      rodsToDisplay: filteredRods,\n      addRodClick: addRodClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 7\n      }\n    });\n  } else if (bottle && bottle.thread && bottle.depth) {\n    const filteredRods = rods.filter(element => {\n      let depthDiff = Number(bottle.depth) - Number(element.dimensions.length);\n\n      if (element.thread && depthDiff > 0) {\n        return element.thread.toLowerCase().indexOf(bottle.thread.toLowerCase()) !== -1;\n      } else {\n        return \"\";\n      }\n    });\n    return /*#__PURE__*/React.createElement(RodDisplay, {\n      rodsToDisplay: filteredRods,\n      addRodClick: addRodClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 7\n      }\n    });\n  } else if (bottle && bottle.thread) {\n    const filteredRods = rods.filter(element => {\n      if (element.thread) {\n        return element.thread.toLowerCase().indexOf(bottle.thread.toLowerCase()) !== -1;\n      } else {\n        return \"\";\n      }\n    });\n    return /*#__PURE__*/React.createElement(RodDisplay, {\n      rodsToDisplay: filteredRods,\n      addRodClick: addRodClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 7\n      }\n    });\n  } else if (brush && brush.type) {\n    const filteredRods = rods.filter(element => {\n      let brushRodDiff = Number(element.dimensions.brushDiameter) - Number(brush.shaftDiameter);\n      let wipeDelta = Number(brush.brushDiameter) - Number(element.dimensions.rodDiameter);\n\n      if (brush.type === \"INYECTADO\" && wipeDelta > 0.5 && wipeDelta < 4.8) {\n        if (brushRodDiff > 0.05 && brushRodDiff < 0.15) {\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n\n      if (brush.type === \"NYLON\" && wipeDelta > 0.8 && wipeDelta < 6.4) {\n        if (brushRodDiff > -0.05 && brushRodDiff < 0.1) {\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n\n      if (brush.type === \"LIP GLOSS\" && wipeDelta > -2 && wipeDelta < 3) {\n        if (brushRodDiff > 0 && brushRodDiff < 0.2) {\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n\n      if (brush.type === \"DELINEADOR\" && wipeDelta > -2 && wipeDelta < -1) {\n        if (brushRodDiff > -0.05 && brushRodDiff < 0.1) {\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n    });\n    return /*#__PURE__*/React.createElement(RodDisplay, {\n      rodsToDisplay: filteredRods,\n      addRodClick: addRodClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 7\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    value: search,\n    onChange: e => onChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 369,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(RodDisplay, {\n    rodsToDisplay: search.length < 1 ? rods : filterDisplay,\n    addRodClick: addRodClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 7\n    }\n  }));\n}; //---------------- Rod filter\n//---------------- Wiper filter\n\nexport const WiperFilter = props => {\n  const wiper = props.wiper;\n  const wipers = props.wipers;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([wipers]);\n\n  const addWiper = async data => {\n    await axios.post(\"/wiper\", {\n      name: data.name,\n      drawing: data.drawing,\n      mold: data.mold\n    }).then(function (response) {\n      if (response.status === 200) {\n        alert(\"Wiper added to the list!\");\n        console.log(\"Wiper succesfully added\");\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    }).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  const addWiperClick = element => {\n    addWiper(element);\n    setBuildClick(!buildClick);\n  };\n\n  const onChange = e => {\n    setSearch(e);\n    let oldList = wipers;\n\n    if (search !== \"\") {\n      let newList = [];\n      newList = oldList.filter(element => {\n        return element.name.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList);\n    } else {\n      setFilterDisplay(oldList);\n    }\n  };\n\n  if (wiper && wiper.name) {\n    const filteredWipers = wipers.filter(element => {\n      return element.name.toLowerCase().indexOf(wiper.name.toLowerCase()) !== -1;\n    });\n    return /*#__PURE__*/React.createElement(RodDisplay, {\n      rodsToDisplay: filteredRods,\n      addRodClick: addRodClick,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 7\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FilterButton, {\n    value: search,\n    onChange: e => onChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(WiperDisplay, {\n    wipersToDisplay: search.length < 1 ? wipers : filterDisplay,\n    addWiperClick: addWiperClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 7\n    }\n  }));\n}; //---------------- Wiper filter","map":{"version":3,"sources":["/home/leon/Documentos/proyectos/mascara/client/src/components/PartFilter.component.js"],"names":["React","useState","Button","Tile","Heading","Image","Tag","ExportCSV","BottleDisplay","BrushDisplay","RodDisplay","WiperDisplay","FilterButton","axios","BottleFilter","props","bottle","bottles","rod","brush","setBuildClick","buildClick","search","setSearch","filterDisplay","setFilterDisplay","addBottle","data","post","name","drawing","mold","depth","thread","then","response","status","alert","console","log","err","Error","error","catch","addBottleClick","element","onChange","e","oldList","newList","filter","toLowerCase","indexOf","filteredBottles","brushLength","gap","Number","dimensions","length","target","value","BrushFilter","brushes","claim","addBrush","original","shaftLength","shaftDiameter","brushDiameter","type","addBrushClick","filteredBrushes","definition","volumizing","lengthening","curling","plumping","mascaraGap","RodFilter","rods","addRod","rodDiameter","addRodClick","filteredRods","depthDiff","brushRodDiff","wipeDelta","WiperFilter","wiper","wipers","addWiper","addWiperClick","filteredWipers"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport Button from 'react-bulma-components/lib/components/button';\nimport Tile from 'react-bulma-components/lib/components/tile';\nimport Heading from 'react-bulma-components/lib/components/heading';\nimport Image from 'react-bulma-components/lib/components/image';\nimport Tag from 'react-bulma-components/lib/components/tag';\nimport ExportCSV from './ExportCSV.component';\nimport {\n  BottleDisplay,\n  BrushDisplay,\n  RodDisplay,\n  WiperDisplay,\n} from './Display.component';\nimport {\n  FilterButton,\n} from './FilterButton.component';\nimport axios from \"axios\";\nimport '../App.css';\n\n//---------------- Bottle filter\n\nexport const BottleFilter = (props) => {\n  const bottle = props.bottle;\n  const bottles = props.bottles;\n  const rod = props.rod;\n  const brush = props.brush;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([bottles]);\n\n  const addBottle = async (data) => {\n    await axios.post(\"/bottle\", {\n      name: data.name,\n      drawing: data.drawing,\n      mold: data.mold,\n      depth: data.depth,\n      thread: data.thread\n    })\n    .then(function (response) {\n      if (response.status === 200) {\n        alert(\"Bottle added to the list!\");\n        console.log(\"Succesfully added\");\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    })\n    .catch(function (error) {\n      alert(error);\n    });\n  };\n\n  const addBottleClick = (element) => {\n    addBottle(element);\n    setBuildClick(!buildClick);\n  };\n\n  const onChange = (e) => {\n    setSearch(e);\n    let oldList = bottles;\n    if(search !== \"\") {\n      let newList =[];\n      newList = oldList.filter( element => {\n        return element.name.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList)\n    } else {\n      setFilterDisplay(oldList)\n    }\n  }\n\n  if (bottle && bottle.name){\n    const filteredBottles = bottles.filter( element => {\n      return element.name.toLowerCase().indexOf(bottle.name.toLowerCase()) !== -1;\n    });\n\n    return (\n      <BottleDisplay bottlesToDisplay={filteredBottles} addBottleClick={addBottleClick} ></BottleDisplay>\n    );\n  } else if (rod && rod.thread && brush && brush.brushLength){\n    const filteredBottles = bottles.filter( element => {\n      let gap = (Number(element.depth) - (Number(rod.dimensions.length) + Number(brush.brushLength)) );\n      if (gap > 2 && gap < 6 && (element.thread.toLowerCase().indexOf(rod.thread.toLowerCase()) !== -1) ){\n        return element;\n      } else {\n        return \"\";\n      }\n    });\n\n    return (\n      <BottleDisplay bottlesToDisplay={filteredBottles} addBottleClick={addBottleClick} ></BottleDisplay>\n    );\n\n  } else if (rod && rod.thread){\n    const filteredBottles = bottles.filter( element => {\n      return element.thread.toLowerCase().indexOf(rod.thread.toLowerCase()) !== -1;\n    });\n\n    return (\n      <BottleDisplay bottlesToDisplay={filteredBottles} addBottleClick={addBottleClick} ></BottleDisplay>\n    );\n  }\n\n  return (\n    <div>\n      <FilterButton value={search} onChange={e => onChange(e.target.value)} ></FilterButton>\n      <br />\n      <BottleDisplay bottlesToDisplay={search.length < 1 ? bottles : filterDisplay} addBottleClick={addBottleClick} ></BottleDisplay>\n    </div>\n  );\n};\n\n//---------------- Bottle filter\n\n//---------------- Brush filter\n\nexport const BrushFilter = (props) => {\n  const brush = props.brush;\n  const brushes = props.brushes;\n  const claim = props.claim;\n  const rod = props.rod;\n  const bottle = props.bottle;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([brushes]);\n\n  const addBrush = async (data) => {\n    await axios.post(\"/brush\", {\n        brush: data.brush,\n        original: data.original,\n        shaftLength: data.shaftLength,\n        shaftDiameter: data.shaftDiameter,\n        brushLength: data.brushLength,\n        brushDiameter: data.brushDiameter,\n        type: data.type\n      })\n      .then(function (response) {\n        if (response.status === 200) {\n          alert(\"Brush added to the list!\");\n          console.log(\"Succesfully added\");\n        } else {\n          const err = new Error(response.error);\n          console.log(err);\n          throw err;\n        }\n      })\n      .catch(function (error) {\n        alert(error);\n      });\n  };\n\n  const onChange = (e) => {\n    setSearch(e);\n    let oldList = brushes;\n    if(search !== \"\") {\n      let newList =[];\n      newList = oldList.filter( element => {\n        return element.brush.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList)\n    } else {\n      setFilterDisplay(brushes)\n    }\n  }\n\n  const addBrushClick = (element) => {\n    addBrush(element);\n    setBuildClick(!buildClick);\n  };\n\n   if (brush && brush.brush){\n    const filteredBrushes = brushes.filter( element => {\n      return element.brush.toLowerCase().indexOf(brush.brush.toLowerCase()) !== -1;\n    });\n\n    return (\n      <BrushDisplay brushesToDisplay={filteredBrushes} addBrushClick={addBrushClick} ></BrushDisplay>\n    );\n\n  } else if (claim){\n    const filteredBrushes = brushes.filter( element => {\n      if (claim === \"definition\" && element.claim.definition === true) {\n        return element;\n      } else if (claim === \"volumizing\" && element.claim.volumizing === true)  {\n        return element;\n      } else if (claim === \"lengthening\" && element.claim.lengthening === true) {\n        return element;\n      } else if (claim === \"curling\" && element.claim.curling === true) {\n        return element;\n      } else if (claim === \"plumping\" && element.claim.plumping === true) {\n        return element;\n      } else {\n        return \"\";\n      }\n    });\n\n    return (\n      <BrushDisplay brushesToDisplay={filteredBrushes} addBrushClick={addBrushClick} ></BrushDisplay>\n    );\n\n  } else if (rod && rod.name && bottle && bottle.name){\n    const filteredBrushes = brushes.filter( element => {\n      let mascaraGap =  (Number(bottle.depth) - (Number(element.brushLength) + Number(rod.dimensions.length)));\n      if (mascaraGap > 1 && mascaraGap < 6) {\n        return element;\n      } else {\n        return null ;\n      }\n    });\n\n    return (\n      <BrushDisplay brushesToDisplay={filteredBrushes} addBrushClick={addBrushClick} ></BrushDisplay>\n    );\n\n  }\n\n  return (\n    <div>\n      <FilterButton value={search} onChange={e => onChange(e.target.value)} ></FilterButton>\n      <br />\n      <BrushDisplay brushesToDisplay={search.length < 1 ? brushes : filterDisplay} addBrushClick={addBrushClick} ></BrushDisplay>\n    </div>\n  );\n};\n\n//---------------- Brush filter\n\n//---------------- Rod filter\n\nexport const RodFilter = (props) => {\n  const rod = props.rod;\n  const rods = props.rods;\n  const bottle = props.bottle;\n  const brush = props.brush;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([rods]);\n\n  const addRod = async (data) => {\n    await axios.post(\"/rod\", {\n        name: data.name,\n        drawing: data.drawing,\n        thread: data.thread,\n        dimensions: {\n          length: data.dimensions.length,\n          rodDiameter: data.dimensions.rodDiameter,\n          brushDiameter: data.dimensions.brushDiameter,\n        }\n      })\n      .then(function (response) {\n        if (response.status === 200) {\n          alert(\"Rod added to the list!\");\n          console.log(\"Succesfully added\");\n        } else {\n          const err = new Error(response.error);\n          console.log(err);\n          throw err;\n        }\n      })\n      .catch(function (error) {\n        alert(error);\n      });\n  };\n\n  const addRodClick = (element) => {\n    addRod(element);\n    setBuildClick(!buildClick);\n  };\n\n  const onChange = (e) => {\n    setSearch(e);\n    let oldList = rods;\n    if(search !== \"\") {\n      let newList =[];\n      newList = oldList.filter( element => {\n        return element.name.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList)\n    } else {\n      setFilterDisplay(oldList)\n    }\n  }\n\n  if (rod && rod.name){\n    const filteredRods = rods.filter( element => {\n      return element.name.toLowerCase().indexOf(rod.name.toLowerCase()) !== -1;\n    });\n\n    return (\n      <RodDisplay rodsToDisplay={filteredRods} addRodClick={addRodClick} ></RodDisplay>\n    );\n\n  } else if (bottle && bottle.thread && bottle.depth){\n    const filteredRods = rods.filter( element => {\n      let depthDiff = (Number(bottle.depth) - Number(element.dimensions.length));\n      if (element.thread && (depthDiff > 0)) {\n        return element.thread.toLowerCase().indexOf(bottle.thread.toLowerCase()) !== -1;\n      } else {\n        return \"\";\n      }\n    });\n\n    return (\n      <RodDisplay rodsToDisplay={filteredRods} addRodClick={addRodClick} ></RodDisplay>\n    );\n\n  } else if (bottle && bottle.thread){\n    const filteredRods = rods.filter( element => {\n      if (element.thread) {\n        return element.thread.toLowerCase().indexOf(bottle.thread.toLowerCase()) !== -1;\n      } else {\n        return \"\";\n      }\n    });\n\n    return (\n      <RodDisplay rodsToDisplay={filteredRods} addRodClick={addRodClick} ></RodDisplay>\n    );\n\n  } else if (brush && brush.type){\n    const filteredRods = rods.filter( element => {\n      let brushRodDiff =  Number(element.dimensions.brushDiameter) - Number(brush.shaftDiameter);\n      let wipeDelta =  Number(brush.brushDiameter) - Number(element.dimensions.rodDiameter) ;\n      if (brush.type === \"INYECTADO\" && wipeDelta > 0.5 && wipeDelta < 4.8) {\n        if (brushRodDiff > 0.05 && brushRodDiff < 0.15){\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n      if (brush.type === \"NYLON\" && wipeDelta > 0.8 && wipeDelta < 6.4) {\n        if (brushRodDiff > -0.05 && brushRodDiff < 0.1){\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n      if (brush.type === \"LIP GLOSS\" && wipeDelta > -2 && wipeDelta < 3) {\n        if (brushRodDiff > 0 && brushRodDiff < 0.2){\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n      if (brush.type === \"DELINEADOR\" && wipeDelta > -2 && wipeDelta < -1) {\n        if (brushRodDiff > -0.05 && brushRodDiff < 0.1){\n          return element;\n        } else {\n          return \"\";\n        }\n      }\n    });\n\n    return (\n      <RodDisplay rodsToDisplay={filteredRods} addRodClick={addRodClick} ></RodDisplay>\n    );\n  }\n\n  return (\n    <div>\n      <FilterButton value={search} onChange={e => onChange(e.target.value)} ></FilterButton>\n      <br />\n      <RodDisplay rodsToDisplay={search.length < 1 ? rods : filterDisplay} addRodClick={addRodClick} ></RodDisplay>\n    </div>\n  );\n};\n\n//---------------- Rod filter\n\n//---------------- Wiper filter\n\nexport const WiperFilter = (props) => {\n  const wiper = props.wiper;\n  const wipers = props.wipers;\n  const setBuildClick = props.setBuildClick;\n  const buildClick = props.buildClick;\n\n  const [search, setSearch] = useState(\"\");\n  const [filterDisplay, setFilterDisplay] = useState([wipers]);\n\n  const addWiper = async (data) => {\n    await axios.post(\"/wiper\", {\n        name: data.name,\n        drawing: data.drawing,\n        mold: data.mold,\n      })\n      .then(function (response) {\n        if (response.status === 200) {\n          alert(\"Wiper added to the list!\");\n          console.log(\"Wiper succesfully added\");\n        } else {\n          const err = new Error(response.error);\n          console.log(err);\n          throw err;\n        }\n      })\n      .catch(function (error) {\n        alert(error);\n      });\n  };\n\n  const addWiperClick = (element) => {\n    addWiper(element);\n    setBuildClick(!buildClick);\n  };\n\n  const onChange = (e) => {\n    setSearch(e);\n    let oldList = wipers;\n    if(search !== \"\") {\n      let newList =[];\n      newList = oldList.filter( element => {\n        return element.name.toLowerCase().indexOf(search.toLowerCase()) !== -1;\n      });\n      setFilterDisplay(newList)\n    } else {\n      setFilterDisplay(oldList)\n    }\n  }\n\n   if (wiper && wiper.name){\n    const filteredWipers = wipers.filter( element => {\n      return element.name.toLowerCase().indexOf(wiper.name.toLowerCase()) !== -1;\n    });\n\n    return (\n      <RodDisplay rodsToDisplay={filteredRods} addRodClick={addRodClick} ></RodDisplay>\n    );\n  }\n\n  return (\n    <div>\n      <FilterButton value={search} onChange={e => onChange(e.target.value)} ></FilterButton>\n      <br />\n      <WiperDisplay wipersToDisplay={search.length < 1 ? wipers : filterDisplay} addWiperClick={addWiperClick} ></WiperDisplay>\n    </div>\n  );\n};\n\n//---------------- Wiper filter\n"]},"metadata":{},"sourceType":"module"}