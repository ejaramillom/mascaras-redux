{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _constants = _interopRequireDefault(require(\"../../constants\"));\n\nvar _item = _interopRequireDefault(require(\"./components/item\"));\n\nvar _divider = _interopRequireDefault(require(\"./components/divider\"));\n\nvar _button = _interopRequireDefault(require(\"../button\"));\n\nvar _icon = _interopRequireDefault(require(\"../icon\"));\n\nvar _modifiers = _interopRequireDefault(require(\"../../modifiers\"));\n\nvar _element = _interopRequireDefault(require(\"../element\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function () {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  if (obj != null) {\n    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n        if (desc && (desc.get || desc.set)) {\n          Object.defineProperty(newObj, key, desc);\n        } else {\n          newObj[key] = obj[key];\n        }\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar colors = [null].concat(Object.values(_constants[\"default\"].COLORS));\n\nvar Dropdown = /*#__PURE__*/function (_PureComponent) {\n  _inherits(Dropdown, _PureComponent);\n\n  function Dropdown(props) {\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (evt) {\n      // IDK yet how to test using the ref in enzime\n      // istanbul ignore if\n      if (_this.props.hoverable || evt && _this.domRef && _this.domRef.current && _this.domRef.current.contains(evt.target)) {\n        return;\n      }\n\n      if (_this.domRef.current) {\n        _this.setState({\n          open: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggle\", function (evt) {\n      if (_this.props.hoverable) {\n        return;\n      }\n\n      if (evt) {\n        evt.preventDefault();\n      }\n\n      _this.setState(function (_ref) {\n        var open = _ref.open;\n        return {\n          open: !open\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"select\", function (value) {\n      return function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(value);\n        }\n\n        if (_this.props.closeOnSelect) {\n          _this.close();\n        }\n      };\n    });\n\n    _this.domRef = props.domRef || _react[\"default\"].createRef();\n    _this.state = {\n      open: false\n    };\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener('click', this.close);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener('click', this.close);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          children = _this$props.children,\n          value = _this$props.value,\n          color = _this$props.color,\n          align = _this$props.align,\n          right = _this$props.right,\n          up = _this$props.up,\n          hoverable = _this$props.hoverable,\n          label = _this$props.label,\n          onChange = _this$props.onChange,\n          closeOnSelect = _this$props.closeOnSelect,\n          props = _objectWithoutProperties(_this$props, [\"className\", \"children\", \"value\", \"color\", \"align\", \"right\", \"up\", \"hoverable\", \"label\", \"onChange\", \"closeOnSelect\"]);\n\n      var current = label;\n\n      var childrenArray = _react[\"default\"].Children.map(children, function (child, i) {\n        if (child.type === _item[\"default\"] && (i === 0 && !label || child.props.value === value)) {\n          current = child.props.children;\n        }\n\n        return _react[\"default\"].cloneElement(child, child.type === _item[\"default\"] ? {\n          active: child.props.value === value,\n          onClick: _this2.select(child.props.value)\n        } : {});\n      });\n\n      if (align === 'right') {\n        // eslint-disable-next-line no-console\n        console.warn('react-bulma-components: \"Align\" prop will be replaced by \"right\" prop in future releases. Please update your code to avoid breaking changes.');\n      }\n\n      return _react[\"default\"].createElement(_element[\"default\"], _extends({}, props, {\n        domRef: this.domRef,\n        className: (0, _classnames[\"default\"])('dropdown', className, {\n          'is-active': this.state.open,\n          'is-up': up,\n          'is-right': right || align === 'right',\n          'is-hoverable': hoverable\n        })\n      }), _react[\"default\"].createElement(\"div\", {\n        className: \"dropdown-trigger\",\n        role: \"presentation\",\n        onClick: this.toggle\n      }, _react[\"default\"].createElement(_button[\"default\"], {\n        color: color\n      }, _react[\"default\"].createElement(\"span\", null, current), _react[\"default\"].createElement(_icon[\"default\"], {\n        icon: \"angle-down\",\n        size: \"small\"\n      }))), _react[\"default\"].createElement(\"div\", {\n        className: \"dropdown-menu\",\n        id: \"dropdown-menu\",\n        role: \"menu\"\n      }, _react[\"default\"].createElement(\"div\", {\n        className: \"dropdown-content\"\n      }, childrenArray)));\n    }\n  }]);\n\n  return Dropdown;\n}(_react.PureComponent);\n\nexports[\"default\"] = Dropdown;\nDropdown.Item = _item[\"default\"];\nDropdown.Divider = _divider[\"default\"];\nDropdown.propTypes = _objectSpread({}, _modifiers[\"default\"].propTypes, {\n  className: _propTypes[\"default\"].string,\n  style: _propTypes[\"default\"].shape({}),\n  children: _propTypes[\"default\"].node,\n  value: _propTypes[\"default\"].any,\n  onChange: _propTypes[\"default\"].func,\n  color: _propTypes[\"default\"].oneOf(colors),\n  right: _propTypes[\"default\"].bool,\n  up: _propTypes[\"default\"].bool,\n  align: _propTypes[\"default\"].oneOf(['right']),\n  hoverable: _propTypes[\"default\"].bool,\n  label: _propTypes[\"default\"].node,\n  closeOnSelect: _propTypes[\"default\"].bool\n});\nDropdown.defaultProps = _objectSpread({}, _modifiers[\"default\"].defaultProps, {\n  closeOnSelect: true,\n  className: undefined,\n  renderAs: 'div',\n  domRef: undefined,\n  style: undefined,\n  value: undefined,\n  children: [],\n  onChange: undefined,\n  color: undefined,\n  align: undefined,\n  hoverable: undefined,\n  label: undefined\n});","map":{"version":3,"sources":["../../../src/components/dropdown/dropdown.js"],"names":["colors","Object","CONSTANTS","Dropdown","PureComponent","props","React","open","document","evt","className","children","value","color","align","right","up","hoverable","label","onChange","closeOnSelect","current","childrenArray","child","DropdownItem","i","active","onClick","console","toggle","DropdownDivider","modifiers","PropTypes","style","bool","renderAs","domRef","undefined"],"mappings":"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","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\n\nimport CONSTANTS from '../../constants';\nimport DropdownItem from './components/item';\nimport DropdownDivider from './components/divider';\nimport Button from '../button';\nimport Icon from '../icon';\nimport modifiers from '../../modifiers';\nimport Element from '../element';\n\nconst colors = [null].concat(Object.values(CONSTANTS.COLORS));\n\nexport default class Dropdown extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.domRef = props.domRef || React.createRef();\n    this.state = {\n      open: false,\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.close);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.close);\n  }\n\n  close = evt => {\n    // IDK yet how to test using the ref in enzime\n    // istanbul ignore if\n    if (\n      this.props.hoverable ||\n      (evt &&\n        this.domRef &&\n        this.domRef.current &&\n        this.domRef.current.contains(evt.target))\n    ) {\n      return;\n    }\n    if (this.domRef.current) {\n      this.setState({ open: false });\n    }\n  };\n\n  toggle = evt => {\n    if (this.props.hoverable) {\n      return;\n    }\n    if (evt) {\n      evt.preventDefault();\n    }\n    this.setState(({ open }) => ({ open: !open }));\n  };\n\n  select = value => () => {\n    if (this.props.onChange) {\n      this.props.onChange(value);\n    }\n    if (this.props.closeOnSelect) {\n      this.close();\n    }\n  };\n\n  render() {\n    const {\n      className,\n      children,\n      value,\n      color,\n      align,\n      right,\n      up,\n      hoverable,\n      label,\n      onChange,\n      closeOnSelect,\n      ...props\n    } = this.props;\n    let current = label;\n\n    const childrenArray = React.Children.map(children, (child, i) => {\n      if (\n        child.type === DropdownItem &&\n        ((i === 0 && !label) || child.props.value === value)\n      ) {\n        current = child.props.children;\n      }\n      return React.cloneElement(\n        child,\n        child.type === DropdownItem\n          ? {\n              active: child.props.value === value,\n              onClick: this.select(child.props.value),\n            }\n          : {},\n      );\n    });\n\n    if (align === 'right') {\n      // eslint-disable-next-line no-console\n      console.warn(\n        'react-bulma-components: \"Align\" prop will be replaced by \"right\" prop in future releases. Please update your code to avoid breaking changes.',\n      );\n    }\n\n    return (\n      <Element\n        {...props}\n        domRef={this.domRef}\n        className={classnames('dropdown', className, {\n          'is-active': this.state.open,\n          'is-up': up,\n          'is-right': right || align === 'right',\n          'is-hoverable': hoverable,\n        })}\n      >\n        <div\n          className=\"dropdown-trigger\"\n          role=\"presentation\"\n          onClick={this.toggle}\n        >\n          <Button color={color}>\n            <span>{current}</span>\n            <Icon icon=\"angle-down\" size=\"small\" />\n          </Button>\n        </div>\n        <div className=\"dropdown-menu\" id=\"dropdown-menu\" role=\"menu\">\n          <div className=\"dropdown-content\">{childrenArray}</div>\n        </div>\n      </Element>\n    );\n  }\n}\n\nDropdown.Item = DropdownItem;\n\nDropdown.Divider = DropdownDivider;\n\nDropdown.propTypes = {\n  ...modifiers.propTypes,\n  className: PropTypes.string,\n  style: PropTypes.shape({}),\n  children: PropTypes.node,\n  value: PropTypes.any,\n  onChange: PropTypes.func,\n  color: PropTypes.oneOf(colors),\n  right: PropTypes.bool,\n  up: PropTypes.bool,\n  align: PropTypes.oneOf(['right']),\n  hoverable: PropTypes.bool,\n  label: PropTypes.node,\n  closeOnSelect: PropTypes.bool,\n};\n\nDropdown.defaultProps = {\n  ...modifiers.defaultProps,\n  closeOnSelect: true,\n  className: undefined,\n  renderAs: 'div',\n  domRef: undefined,\n  style: undefined,\n  value: undefined,\n  children: [],\n  onChange: undefined,\n  color: undefined,\n  align: undefined,\n  hoverable: undefined,\n  label: undefined,\n};\n"]},"metadata":{},"sourceType":"script"}