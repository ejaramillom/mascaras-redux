{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = start;\n\nvar _global = require(\"global\");\n\nvar _addons = _interopRequireDefault(require(\"@storybook/addons\"));\n\nvar _channelPostmessage = _interopRequireDefault(require(\"@storybook/channel-postmessage\"));\n\nvar _clientApi = require(\"@storybook/client-api\");\n\nvar _coreEvents = _interopRequireDefault(require(\"@storybook/core-events\"));\n\nvar _url = require(\"./url\");\n\nvar _loadCsf = require(\"./loadCsf\");\n\nvar _StoryRenderer = require(\"./StoryRenderer\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar isBrowser = _global.navigator && _global.navigator.userAgent && _global.navigator.userAgent !== 'storyshots' && !(_global.navigator.userAgent.indexOf('Node.js') > -1) && !(_global.navigator.userAgent.indexOf('jsdom') > -1);\n\nfunction getOrCreateChannel() {\n  var channel = null;\n\n  if (isBrowser) {\n    try {\n      channel = _addons[\"default\"].getChannel();\n    } catch (e) {\n      channel = (0, _channelPostmessage[\"default\"])({\n        page: 'preview'\n      });\n\n      _addons[\"default\"].setChannel(channel);\n    }\n  }\n\n  return channel;\n}\n\nfunction getClientApi(decorateStory, channel) {\n  var storyStore;\n  var clientApi;\n\n  if (typeof _global.window !== 'undefined' && _global.window.__STORYBOOK_CLIENT_API__ && _global.window.__STORYBOOK_STORY_STORE__) {\n    clientApi = _global.window.__STORYBOOK_CLIENT_API__;\n    storyStore = _global.window.__STORYBOOK_STORY_STORE__;\n  } else {\n    storyStore = new _clientApi.StoryStore({\n      channel: channel\n    });\n    clientApi = new _clientApi.ClientApi({\n      storyStore: storyStore,\n      decorateStory: decorateStory\n    });\n  }\n\n  return {\n    clientApi: clientApi,\n    storyStore: storyStore\n  };\n}\n\nfunction focusInInput(event) {\n  var target = event.target;\n  return /input|textarea/i.test(target.tagName) || target.getAttribute('contenteditable') !== null;\n} // todo improve typings\n\n\nfunction start(render) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      decorateStory = _ref.decorateStory;\n\n  var channel = getOrCreateChannel();\n\n  var _getClientApi = getClientApi(decorateStory, channel),\n      clientApi = _getClientApi.clientApi,\n      storyStore = _getClientApi.storyStore;\n\n  var configApi = new _clientApi.ConfigApi({\n    storyStore: storyStore\n  });\n  var storyRenderer = new _StoryRenderer.StoryRenderer({\n    render: render,\n    channel: channel,\n    storyStore: storyStore\n  }); // Only try and do URL/event based stuff in a browser context (i.e. not in storyshots)\n\n  if (isBrowser) {\n    var selectionSpecifier = (0, _url.getSelectionSpecifierFromPath)();\n\n    if (selectionSpecifier) {\n      storyStore.setSelectionSpecifier(selectionSpecifier);\n    }\n\n    channel.on(_coreEvents[\"default\"].CURRENT_STORY_WAS_SET, _url.setPath); // Handle keyboard shortcuts\n\n    _global.window.onkeydown = function (event) {\n      if (!focusInInput(event)) {\n        // We have to pick off the keys of the event that we need on the other side\n        var altKey = event.altKey,\n            ctrlKey = event.ctrlKey,\n            metaKey = event.metaKey,\n            shiftKey = event.shiftKey,\n            key = event.key,\n            code = event.code,\n            keyCode = event.keyCode;\n        channel.emit(_coreEvents[\"default\"].PREVIEW_KEYDOWN, {\n          event: {\n            altKey: altKey,\n            ctrlKey: ctrlKey,\n            metaKey: metaKey,\n            shiftKey: shiftKey,\n            key: key,\n            code: code,\n            keyCode: keyCode\n          }\n        });\n      }\n    };\n  }\n\n  if (typeof _global.window !== 'undefined') {\n    _global.window.__STORYBOOK_CLIENT_API__ = clientApi;\n    _global.window.__STORYBOOK_STORY_STORE__ = storyStore;\n    _global.window.__STORYBOOK_ADDONS_CHANNEL__ = channel; // may not be defined\n  }\n\n  var configure = (0, _loadCsf.loadCsf)({\n    clientApi: clientApi,\n    storyStore: storyStore,\n    configApi: configApi\n  });\n  return {\n    configure: configure,\n    clientApi: clientApi,\n    configApi: configApi,\n    channel: channel,\n    forceReRender: function forceReRender() {\n      return storyRenderer.forceReRender();\n    }\n  };\n}","map":{"version":3,"sources":["/home/leon/Documentos/proyectos/react/mascaras/client/node_modules/@storybook/core/dist/client/preview/start.js"],"names":["Object","defineProperty","exports","value","start","_global","require","_addons","_interopRequireDefault","_channelPostmessage","_clientApi","_coreEvents","_url","_loadCsf","_StoryRenderer","obj","__esModule","isBrowser","navigator","userAgent","indexOf","getOrCreateChannel","channel","getChannel","e","page","setChannel","getClientApi","decorateStory","storyStore","clientApi","window","__STORYBOOK_CLIENT_API__","__STORYBOOK_STORY_STORE__","StoryStore","ClientApi","focusInInput","event","target","test","tagName","getAttribute","render","_ref","arguments","length","undefined","_getClientApi","configApi","ConfigApi","storyRenderer","StoryRenderer","selectionSpecifier","getSelectionSpecifierFromPath","setSelectionSpecifier","on","CURRENT_STORY_WAS_SET","setPath","onkeydown","altKey","ctrlKey","metaKey","shiftKey","key","code","keyCode","emit","PREVIEW_KEYDOWN","__STORYBOOK_ADDONS_CHANNEL__","configure","loadCsf","forceReRender"],"mappings":"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","sourcesContent":["\"use strict\";\n\nrequire(\"core-js/modules/es.array.index-of\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = start;\n\nvar _global = require(\"global\");\n\nvar _addons = _interopRequireDefault(require(\"@storybook/addons\"));\n\nvar _channelPostmessage = _interopRequireDefault(require(\"@storybook/channel-postmessage\"));\n\nvar _clientApi = require(\"@storybook/client-api\");\n\nvar _coreEvents = _interopRequireDefault(require(\"@storybook/core-events\"));\n\nvar _url = require(\"./url\");\n\nvar _loadCsf = require(\"./loadCsf\");\n\nvar _StoryRenderer = require(\"./StoryRenderer\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nvar isBrowser = _global.navigator && _global.navigator.userAgent && _global.navigator.userAgent !== 'storyshots' && !(_global.navigator.userAgent.indexOf('Node.js') > -1) && !(_global.navigator.userAgent.indexOf('jsdom') > -1);\n\nfunction getOrCreateChannel() {\n  var channel = null;\n\n  if (isBrowser) {\n    try {\n      channel = _addons[\"default\"].getChannel();\n    } catch (e) {\n      channel = (0, _channelPostmessage[\"default\"])({\n        page: 'preview'\n      });\n\n      _addons[\"default\"].setChannel(channel);\n    }\n  }\n\n  return channel;\n}\n\nfunction getClientApi(decorateStory, channel) {\n  var storyStore;\n  var clientApi;\n\n  if (typeof _global.window !== 'undefined' && _global.window.__STORYBOOK_CLIENT_API__ && _global.window.__STORYBOOK_STORY_STORE__) {\n    clientApi = _global.window.__STORYBOOK_CLIENT_API__;\n    storyStore = _global.window.__STORYBOOK_STORY_STORE__;\n  } else {\n    storyStore = new _clientApi.StoryStore({\n      channel: channel\n    });\n    clientApi = new _clientApi.ClientApi({\n      storyStore: storyStore,\n      decorateStory: decorateStory\n    });\n  }\n\n  return {\n    clientApi: clientApi,\n    storyStore: storyStore\n  };\n}\n\nfunction focusInInput(event) {\n  var target = event.target;\n  return /input|textarea/i.test(target.tagName) || target.getAttribute('contenteditable') !== null;\n} // todo improve typings\n\n\nfunction start(render) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      decorateStory = _ref.decorateStory;\n\n  var channel = getOrCreateChannel();\n\n  var _getClientApi = getClientApi(decorateStory, channel),\n      clientApi = _getClientApi.clientApi,\n      storyStore = _getClientApi.storyStore;\n\n  var configApi = new _clientApi.ConfigApi({\n    storyStore: storyStore\n  });\n  var storyRenderer = new _StoryRenderer.StoryRenderer({\n    render: render,\n    channel: channel,\n    storyStore: storyStore\n  }); // Only try and do URL/event based stuff in a browser context (i.e. not in storyshots)\n\n  if (isBrowser) {\n    var selectionSpecifier = (0, _url.getSelectionSpecifierFromPath)();\n\n    if (selectionSpecifier) {\n      storyStore.setSelectionSpecifier(selectionSpecifier);\n    }\n\n    channel.on(_coreEvents[\"default\"].CURRENT_STORY_WAS_SET, _url.setPath); // Handle keyboard shortcuts\n\n    _global.window.onkeydown = function (event) {\n      if (!focusInInput(event)) {\n        // We have to pick off the keys of the event that we need on the other side\n        var altKey = event.altKey,\n            ctrlKey = event.ctrlKey,\n            metaKey = event.metaKey,\n            shiftKey = event.shiftKey,\n            key = event.key,\n            code = event.code,\n            keyCode = event.keyCode;\n        channel.emit(_coreEvents[\"default\"].PREVIEW_KEYDOWN, {\n          event: {\n            altKey: altKey,\n            ctrlKey: ctrlKey,\n            metaKey: metaKey,\n            shiftKey: shiftKey,\n            key: key,\n            code: code,\n            keyCode: keyCode\n          }\n        });\n      }\n    };\n  }\n\n  if (typeof _global.window !== 'undefined') {\n    _global.window.__STORYBOOK_CLIENT_API__ = clientApi;\n    _global.window.__STORYBOOK_STORY_STORE__ = storyStore;\n    _global.window.__STORYBOOK_ADDONS_CHANNEL__ = channel; // may not be defined\n  }\n\n  var configure = (0, _loadCsf.loadCsf)({\n    clientApi: clientApi,\n    storyStore: storyStore,\n    configApi: configApi\n  });\n  return {\n    configure: configure,\n    clientApi: clientApi,\n    configApi: configApi,\n    channel: channel,\n    forceReRender: function forceReRender() {\n      return storyRenderer.forceReRender();\n    }\n  };\n}"]},"metadata":{},"sourceType":"script"}