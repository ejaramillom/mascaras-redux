{"ast":null,"code":"var _jsxFileName = \"/home/leon/Documentos/proyectos/react/mascaras/client/src/components/Build.component.js\";\nimport React, { useState, useEffect } from 'react';\nimport '../App.css';\nimport { select, boolean } from '@storybook/addon-knobs';\nimport Button from 'react-bulma-components/lib/components/button';\nimport Section from 'react-bulma-components/lib/components/section';\nimport Container from 'react-bulma-components/lib/components/container';\nimport Heading from 'react-bulma-components/lib/components/heading';\nimport { useQuery } from \"react-query\";\nimport { BottleModal, BrushModal, RodModal, CapModal, WiperModal } from './OpenModal.component';\nimport { Compatibility } from './Compatibility.component';\nimport { getBuild } from \"../middlewares/services\";\nimport axios from \"axios\";\n\nconst Build = () => {\n  const [thread, setThread] = useState(false);\n  const {\n    status,\n    isLoading,\n    error,\n    data\n  } = useQuery(\"build\", getBuild);\n  useEffect(() => {\n    if (status === \"success\") {\n      verifyThread();\n    }\n  }, [status]);\n  if (isLoading) return \"Loading...\";\n  if (error) return \"Oops! \";\n\n  const deleteBuild = async () => {\n    await axios.post(\"/delete\").then(function (response) {\n      if (response.status === 200) {\n        console.log(\"Succesfully deleted\");\n        alert(\"Build deleted!\");\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    }).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  const verifyThread = async () => {\n    await axios.get(\"/build\").then(response => {\n      if (response.status === 200) {\n        console.log(\"Succesfully fetched build\");\n        let build = response.json();\n\n        if (build.bottle && build.rod) {\n          if (build.bottle.thread === build.rod.thread) {\n            setThread(true);\n          }\n        }\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    }).catch(function (error) {\n      alert(error);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Compatibility, {\n    thread: thread,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, data.map(element => /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, element.bottle ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    key: element.bottle.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, element.bottle.name), /*#__PURE__*/React.createElement(\"li\", {\n    key: element.bottle.thread,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, element.bottle.thread, \" \")) : \"\", element.brush ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    key: element.brush.brush,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, element.brush.brush)) : \"\", element.rod ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    key: element.rod.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, element.rod.name), /*#__PURE__*/React.createElement(\"li\", {\n    key: element.rod.thread,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }, element.rod.thread)) : \"\"))), /*#__PURE__*/React.createElement(Section, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    onClick: () => {\n      deleteBuild();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 11\n    }\n  }, \"Erase build\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"info\",\n    onClick: build => {\n      setThread(!thread);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"thread\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    size: 5,\n    renderAs: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }, \"Build\"), /*#__PURE__*/React.createElement(Heading, {\n    subtitle: true,\n    renderAs: \"p\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 13\n    }\n  }, \"Mascara\")), /*#__PURE__*/React.createElement(Button.Group, {\n    hasAddons: boolean('hasAddons', false),\n    position: \"centered\",\n    size: select('Size', {\n      small: 'small',\n      medium: 'medium',\n      large: 'large'\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(BottleModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(BrushModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(RodModal, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }\n  })))));\n};\n\nexport default Build;","map":{"version":3,"sources":["/home/leon/Documentos/proyectos/react/mascaras/client/src/components/Build.component.js"],"names":["React","useState","useEffect","select","boolean","Button","Section","Container","Heading","useQuery","BottleModal","BrushModal","RodModal","CapModal","WiperModal","Compatibility","getBuild","axios","Build","thread","setThread","status","isLoading","error","data","verifyThread","deleteBuild","post","then","response","console","log","alert","err","Error","catch","get","build","json","bottle","rod","map","element","name","brush","small","medium","large"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport '../App.css';\nimport { select, boolean } from '@storybook/addon-knobs';\nimport Button from 'react-bulma-components/lib/components/button';\nimport Section from 'react-bulma-components/lib/components/section';\nimport Container from 'react-bulma-components/lib/components/container';\nimport Heading from 'react-bulma-components/lib/components/heading';\nimport { useQuery } from \"react-query\";\nimport {\n  BottleModal,\n  BrushModal,\n  RodModal,\n  CapModal,\n  WiperModal\n} from './OpenModal.component';\nimport {\n  Compatibility\n} from './Compatibility.component';\nimport { getBuild } from \"../middlewares/services\";\nimport axios from \"axios\";\n\nconst Build = () => {\n  const [thread, setThread] = useState(false);\n  const { status, isLoading, error, data } = useQuery(\"build\", getBuild);\n\n  useEffect(() => {\n    if (status === \"success\") {\n      verifyThread();\n    }\n  }, [status]);\n\n  if (isLoading) return \"Loading...\";\n  if (error) return \"Oops! \";\n\n  const deleteBuild = async () => {\n    await axios.post(\"/delete\")\n    .then(function (response) {\n      if (response.status === 200) {\n        console.log(\"Succesfully deleted\");\n        alert(\"Build deleted!\");\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    })\n    .catch(function (error) {\n      alert(error);\n    });\n  };\n\n  const verifyThread = async () => {\n    await axios.get(\"/build\")\n    .then( (response) => {\n      if (response.status === 200) {\n        console.log(\"Succesfully fetched build\");\n        let build = response.json();\n        if (build.bottle && build.rod) {\n          if (build.bottle.thread === build.rod.thread) {\n            setThread(true);\n          }\n        }\n      } else {\n        const err = new Error(response.error);\n        console.log(err);\n        throw err;\n      }\n    })\n    .catch(function (error) {\n      alert(error);\n    });\n  };\n\n  return (\n    <div className=\"App\">\n      <Compatibility thread={thread}>\n      </Compatibility>\n      <Section>\n        { data.map( element =>\n          <div>\n            {element.bottle ?\n              <div>\n                <li key = { element.bottle.name }>{ element.bottle.name }</li>\n                <li key = { element.bottle.thread }>{ element.bottle.thread } </li>\n              </div>\n              : \"\" }\n            {element.brush ?\n              <div>\n                <li key = { element.brush.brush }>{ element.brush.brush }</li>\n              </div>\n              : \"\" }\n            {element.rod ?\n              <div>\n                <li key = { element.rod.name }>{ element.rod.name }</li>\n                <li key = { element.rod.thread }>{ element.rod.thread }</li>\n              </div>\n              : \"\" }\n          </div>\n        )}\n      </Section>\n      <Section>\n        <Container>\n          <Button\n            color=\"info\"\n            onClick={() => {\n              deleteBuild();\n            }}\n          >\n            Erase build\n          </Button>\n          <Button\n            color=\"info\"\n            onClick={(build) => {\n              setThread(!thread);\n            }}\n          >\n            thread\n          </Button>\n          <p>\n            <Heading size={5} renderAs=\"p\">Build</Heading>\n            <Heading subtitle renderAs=\"p\">Mascara</Heading>\n          </p>\n          <Button.Group\n            hasAddons={boolean('hasAddons', false)}\n            position=\"centered\"\n            size={select('Size', { small: 'small', medium: 'medium', large: 'large' })}\n          >\n            <BottleModal>\n            </BottleModal>\n            <BrushModal>\n            </BrushModal>\n            <RodModal>\n            </RodModal>\n          </Button.Group>\n        </Container>\n      </Section>\n    </div>\n  );\n}\n\nexport default Build;\n"]},"metadata":{},"sourceType":"module"}